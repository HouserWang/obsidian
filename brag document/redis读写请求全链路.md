---
created: 2025-12-17 13:16
tags:
  - redis
  - io多路复用
  - brag-doc
category: Middleware
tech_stack:
  - Redis
status: 🟢 掌握
---

# 🚀 技术沉淀: redis读写请求全链路

## 1. 第一性原理 (The "Why" & "How")
> 💡 **核心机制拆解**：

- **底层机制**：smart redis、单reactor/多线程网络io、同步aof buf和pagecache/异步刷盘、同步slave buf/异步复制replica log
- **设计哲学**：[[reactor模型]]、append-Only log、异步刷盘与异步复制
- **关键细节**：
    - 客户端连接3次握手->redis主线程event loop epoll_wait监控到accept事件->epoll_ctl注册一个新的read事件
    - 数据到达网卡->epoll_wait唤醒主线程->主线程分配给io thread->io thread读取数据，从内核buffer复制到input buffer，解析数据
    - 客户端发送数据->触发读事件->redis网络io线程池拿出子线程来读取数据->子线程对数据进行解码编码操作解析出该redis命令
    - 根据wal模式先写入aof buf和pagecache，再写入

## 2. 横向对比 (The Trade-off)
> ⚖️ **架构师视角**：没有最好的技术，只有最适合的权衡。

| 维度 | 当前技术 | 对标技术 (e.g. Kafka/Redis/ZK) |
| :--- | :--- | :--- |
| **一致性** | ... | ... |
| **IO 模型** | ... | ... |
| **适用场景** | ... | ... |

- **核心差异点**：...

## 3. B 端业务落地 (The Value)
> 💼 **场景化应用**：在非高并发场景下，这个技术能解决什么痛点？(数据一致性、可维护性、系统解耦)

- **痛点描述**：...
- **解决方案**：...
- **收益/价值**：...

## 4. 简历话术预案 (Resume Snippet)
> 📝 **降维打击**：明年写简历时，直接复制这一段。
> *格式建议：掌握 [技术原理]，在 [业务场景] 中，通过 [技术手段]，解决了 [什么问题/提升了什么指标]。*

- **话术 1 (侧重原理)**：深入理解 **...** 原理，...
- **话术 2 (侧重实战)**：在 **...** 业务中，设计了 **...** 方案，解决了 **...** 问题。

---
## 🔗 关联知识
- [[相关概念]]